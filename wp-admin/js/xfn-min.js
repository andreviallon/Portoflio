jQuery(document).ready(function(e){e("#link_rel").prop("readonly",!0),e("#linkxfndiv input").bind("click keyup",function(){var t=e("#me").is(":checked"),a="";e("input.valinp").each(function(){t?e(this).prop("disabled",!0).parent().addClass("disabled"):(e(this).removeAttr("disabled").parent().removeClass("disabled"),e(this).is(":checked")&&""!==e(this).val()&&(a+=e(this).val()+" "))}),e("#link_rel").val(t?"me":a.substr(0,a.length-1))})}),jQuery(document).ready(function(e){function t(e,t){e.children().hide(),e.children("."+t).show()}function a(e){e.removeClass("has-request-results"),e.next().hasClass("request-results")&&e.next().remove()}function n(t,n,o,s){var r="",i="request-results";a(t),s.length&&(e.each(s,function(e,t){r=r+"<li>"+t+"</li>"}),r="<ul>"+r+"</ul>"),t.addClass("has-request-results"),t.hasClass("status-request-confirmed")&&(i+=" status-request-confirmed"),t.hasClass("status-request-failed")&&(i+=" status-request-failed"),t.after(function(){return'<tr class="'+i+'"><th colspan="5"><div class="notice inline notice-alt '+n+'"><p>'+o+"</p>"+r+"</div></td></tr>"})}var o=window.privacyToolsL10n||{};e(".export-personal-data-handle").click(function(s){function r(e){t(l,"export-personal-data-success"),void 0!==e?window.location=e:f||i(o.noExportFile)}function i(e){t(l,"export-personal-data-failed"),e&&n(u,"notice-error",o.exportError,[e])}function d(t,a){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-export-personal-data",exporter:t,id:p,page:a,security:m,sendAsEmail:f},method:"post"}).done(function(e){var n=e.data;e.success?n.done?t<v?setTimeout(d(t+1,1)):r(n.url):setTimeout(d(t,a+1)):i(e.data)}).fail(function(e,t,a){i(a)})}var c=e(this),l=c.parents(".export-personal-data"),u=c.parents("tr"),p=l.data("request-id"),m=l.data("nonce"),v=l.data("exporters-count"),f=!!l.data("send-as-email");s.preventDefault(),s.stopPropagation(),l.blur(),a(u),t(l,"export-personal-data-processing"),d(1,1)}),e(".remove-personal-data-handle").click(function(s){function r(){var e=o.noDataFound,a="notice-success";t(l,"remove-personal-data-idle"),!1===f?!1===h?e=o.noDataFound:(e=o.noneRemoved,a="notice-warning"):!1===h?e=o.foundAndRemoved:(e=o.someNotRemoved,a="notice-warning"),n(u,"notice-success",e,g)}function i(){t(l,"remove-personal-data-failed"),n(u,"notice-error",o.removalError,[])}function d(t,a){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-erase-personal-data",eraser:t,id:p,page:a,security:m},method:"post"}).done(function(e){var n=e.data;e.success?(n.items_removed&&(f=f||n.items_removed),n.items_retained&&(h=h||n.items_retained),n.messages&&(g=g.concat(n.messages)),n.done?t<v?setTimeout(d(t+1,1)):r():setTimeout(d(t,a+1))):i()}).fail(function(){i()})}var c=e(this),l=c.parents(".remove-personal-data"),u=c.parents("tr"),p=l.data("request-id"),m=l.data("nonce"),v=l.data("erasers-count"),f=!1,h=!1,g=[];s.stopPropagation(),l.blur(),a(u),t(l,"remove-personal-data-processing"),d(1,1)})}),function(e){e(document).on("click",function(t){var a=e(t.target),n,o,s;if(a.is("button.privacy-text-copy")&&((o=(n=a.parent().parent()).find("div.wp-suggested-text")).length||(o=n.find("div.policy-text")),o.length))try{window.getSelection().removeAllRanges(),s=document.createRange(),o.addClass("hide-privacy-policy-tutorial"),s.selectNodeContents(o[0]),window.getSelection().addRange(s),document.execCommand("copy"),o.removeClass("hide-privacy-policy-tutorial"),window.getSelection().removeAllRanges()}catch(e){}})}(jQuery);