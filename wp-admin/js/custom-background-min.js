!function($){$(document).ready(function(){var n,o=$("#custom-background-image");$("#background-color").wpColorPicker({change:function(n,c){o.css("background-color",c.color.toString())},clear:function(){o.css("background-color","")}}),$('select[name="background-size"]').change(function(){o.css("background-size",$(this).val())}),$('input[name="background-position"]').change(function(){o.css("background-position",$(this).val())}),$('input[name="background-repeat"]').change(function(){o.css("background-repeat",$(this).is(":checked")?"repeat":"no-repeat")}),$('input[name="background-attachment"]').change(function(){o.css("background-attachment",$(this).is(":checked")?"scroll":"fixed")}),$("#choose-from-library-link").click(function(o){var c=$(this);if(o.preventDefault(),n)return void n.open();n=wp.media.frames.customBackground=wp.media({title:c.data("choose"),library:{type:"image"},button:{text:c.data("update"),close:!1}}),n.on("select",function(){var o=n.state().get("selection").first();$.post(ajaxurl,{action:"set-background-image",attachment_id:o.id,size:"full"}).done(function(){window.location.reload()})}),n.open()})})}(jQuery);