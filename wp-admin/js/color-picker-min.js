!function($,e){var t;t={options:{defaultColor:!1,change:!1,clear:!1,hide:!0,palettes:!0,width:255,mode:"hsv",type:"full",slider:"horizontal"},_createHueOnly:function(){var e=this,t=e.element,o;t.hide(),o="hsl("+t.val()+", 100, 50)",t.iris({mode:"hsl",type:"hue",hide:!1,color:o,change:function(t,o){$.isFunction(e.options.change)&&e.options.change.call(this,t,o)},width:e.options.width,slider:e.options.slider})},_create:function(){if($.support.iris){var e=this,t=e.element;if($.extend(e.options,t.data()),"hue"===e.options.type)return e._createHueOnly();e.close=$.proxy(e.close,e),e.initialValue=t.val(),t.addClass("wp-color-picker"),t.parent("label").length||(t.wrap("<label></label>"),e.wrappingLabelText=$('<span class="screen-reader-text"></span>').insertBefore(t).text(wpColorPickerL10n.defaultLabel)),e.wrappingLabel=t.parent(),e.wrappingLabel.wrap('<div class="wp-picker-container" />'),e.wrap=e.wrappingLabel.parent(),e.toggler=$('<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>').insertBefore(e.wrappingLabel).css({backgroundColor:e.initialValue}),e.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick),e.pickerContainer=$('<div class="wp-picker-holder" />').insertAfter(e.wrappingLabel),e.button=$('<input type="button" class="button button-small" />'),e.options.defaultColor?e.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString).attr("aria-label",wpColorPickerL10n.defaultAriaLabel):e.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear).attr("aria-label",wpColorPickerL10n.clearAriaLabel),e.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(e.button),e.inputWrapper=t.closest(".wp-picker-input-wrap"),t.iris({target:e.pickerContainer,hide:e.options.hide,width:e.options.width,mode:e.options.mode,palettes:e.options.palettes,change:function(t,o){e.toggler.css({backgroundColor:o.color.toString()}),$.isFunction(e.options.change)&&e.options.change.call(this,t,o)}}),t.val(e.initialValue),e._addListeners(),e.options.hide||e.toggler.click()}},_addListeners:function(){var e=this;e.wrap.on("click.wpcolorpicker",function(e){e.stopPropagation()}),e.toggler.click(function(){e.toggler.hasClass("wp-picker-open")?e.close():e.open()}),e.element.change(function(t){var o=$(this),i=o.val();""!==i&&"#"!==i||(e.toggler.css("backgroundColor",""),$.isFunction(e.options.clear)&&e.options.clear.call(this,t))}),e.button.click(function(t){var o=$(this);o.hasClass("wp-picker-clear")?(e.element.val(""),e.toggler.css("backgroundColor",""),$.isFunction(e.options.clear)&&e.options.clear.call(this,t)):o.hasClass("wp-picker-default")&&e.element.val(e.options.defaultColor).change()})},open:function(){this.element.iris("toggle"),this.inputWrapper.removeClass("hidden"),this.wrap.addClass("wp-picker-active"),this.toggler.addClass("wp-picker-open").attr("aria-expanded","true"),$("body").trigger("click.wpcolorpicker").on("click.wpcolorpicker",this.close)},close:function(){this.element.iris("toggle"),this.inputWrapper.addClass("hidden"),this.wrap.removeClass("wp-picker-active"),this.toggler.removeClass("wp-picker-open").attr("aria-expanded","false"),$("body").off("click.wpcolorpicker",this.close)},color:function(t){if(t===e)return this.element.iris("option","color");this.element.iris("option","color",t)},defaultColor:function(t){if(t===e)return this.options.defaultColor;this.options.defaultColor=t}},$.widget("wp.wpColorPicker",t)}(jQuery);