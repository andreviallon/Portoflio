!function(t){var e,n,a,o,s,i,r,l,m,d,p=document.title,c=t("#dashboard_right_now").length;e=function(t){var e=parseInt(t.html().replace(/[^0-9]+/g,""),10);return isNaN(e)?0:e},n=function(t,e){var n="";if(!isNaN(e)){if((e=e<1?"0":e.toString()).length>3){for(;e.length>3;)n=thousandsSeparator+e.substr(e.length-3)+n,e=e.substr(0,e.length-3);e+=n}t.html(e)}},s=function(o,s){var i,r,l=".post-com-count-"+s,m="comment-count-no-comments",d="comment-count-approved";a("span.approved-count",o),s&&(i=t("span."+d,l),r=t("span."+m,l),i.each(function(){var a=t(this),s=e(a)+o;s<1&&(s=0),0===s?a.removeClass(d).addClass(m):a.addClass(d).removeClass(m),n(a,s)}),r.each(function(){var e=t(this);o>0?e.removeClass(m).addClass(d):e.addClass(m).removeClass(d),n(e,o)}))},a=function(a,o){t(a).each(function(){var a=t(this),s=e(a)+o;s<1&&(s=0),n(a,s)})},r=function(e){c&&e&&e.i18n_comments_text&&t(".comment-count a","#dashboard_right_now").text(e.i18n_comments_text)},l=function(e){e&&e.i18n_moderation_text&&(t(".comments-in-moderation-text").text(e.i18n_moderation_text),c&&e.in_moderation&&t(".comment-mod-count","#dashboard_right_now")[e.in_moderation>0?"removeClass":"addClass"]("hidden"))},i=function(a){var o,s,i,r;d=d||new RegExp(adminCommentsL10n.docTitleCommentsCount.replace("%s","\\([0-9"+thousandsSeparator+"]+\\)")+"?"),m=m||t("<div />"),o=p,(r=d.exec(document.title))?(r=r[0],m.html(r),i=e(m)+a):(m.html(0),i=a),i>=1?(n(m,i),(s=d.exec(document.title))&&(o=document.title.replace(s[0],adminCommentsL10n.docTitleCommentsCount.replace("%s",m.text())+" "))):(s=d.exec(o))&&(o=o.replace(s[0],adminCommentsL10n.docTitleComments)),document.title=o},o=function(a,o){var s,r,l=".post-com-count-"+o,m="comment-count-no-pending",d="post-com-count-no-pending",p="comment-count-pending";c||i(a),t("span.pending-count").each(function(){var o=t(this),s=e(o)+a;s<1&&(s=0),o.closest(".awaiting-mod")[0===s?"addClass":"removeClass"]("count-0"),n(o,s)}),o&&(s=t("span."+p,l),r=t("span."+m,l),s.each(function(){var o=t(this),s=e(o)+a;s<1&&(s=0),0===s?(o.parent().addClass(d),o.removeClass(p).addClass(m)):(o.parent().removeClass(d),o.addClass(p).removeClass(m)),n(o,s)}),r.each(function(){var e=t(this);a>0?(e.parent().removeClass(d),e.removeClass(m).addClass(p)):(e.parent().addClass(d),e.addClass(m).removeClass(p)),n(e,a)}))},window.setCommentsList=function(){var n,i,m,d,p,u,h,f,v,g=0;n=t('input[name="_total"]',"#comments-form"),i=t('input[name="_per_page"]',"#comments-form"),m=t('input[name="_page"]',"#comments-form"),u=function(t,e,a){e<g||(a&&(g=e),n.val(t.toString()))},d=function(e,n){var a,i,m,d,p=t("#"+n.element);!0!==n.parsed&&(d=n.parsed.responses[0]),a=t("#replyrow"),i=t("#comment_ID",a).val(),m=t("#replybtn",a),p.is(".unapproved")?(n.data.id==i&&m.text(adminCommentsL10n.replyApprove),p.find(".row-actions span.view").addClass("hidden").end().find("div.comment_status").html("0")):(n.data.id==i&&m.text(adminCommentsL10n.reply),p.find(".row-actions span.view").removeClass("hidden").end().find("div.comment_status").html("1")),v=t("#"+n.element).is("."+n.dimClass)?1:-1,d?(r(d.supplemental),l(d.supplemental),o(v,d.supplemental.postId),s(-1*v,d.supplemental.postId)):(o(v),s(-1*v))},p=function(e,a){var o,s,r,l,d,p,c,u=!1,h=t(e.target).attr("data-wp-lists");return e.data._total=n.val()||0,e.data._per_page=i.val()||0,e.data._page=m.val()||0,e.data._url=document.location.href,e.data.comment_status=t('input[name="comment_status"]',"#comments-form").val(),-1!=h.indexOf(":trash=1")?u="trash":-1!=h.indexOf(":spam=1")&&(u="spam"),u&&(s=h.replace(/.*?comment-([0-9]+).*/,"$1"),r=t("#comment-"+s),o=t("#"+u+"-undo-holder").html(),r.find(".check-column :checkbox").prop("checked",!1),r.siblings("#replyrow").length&&commentReply.cid==s&&commentReply.close(),r.is("tr")?(l=r.children(":visible").length,c=t(".author strong",r).text(),d=t('<tr id="undo-'+s+'" class="undo un'+u+'" style="display:none;"><td colspan="'+l+'">'+o+"</td></tr>")):(c=t(".comment-author",r).text(),d=t('<div id="undo-'+s+'" style="display:none;" class="undo un'+u+'">'+o+"</div>")),r.before(d),t("strong","#undo-"+s).text(c),(p=t(".undo a","#undo-"+s)).attr("href","comment.php?action=un"+u+"comment&c="+s+"&_wpnonce="+e.data._ajax_nonce),p.attr("data-wp-lists","delete:the-comment-list:comment-"+s+"::un"+u+"=1"),p.attr("class","vim-z vim-destructive aria-button-if-js"),t(".avatar",r).first().clone().prependTo("#undo-"+s+" ."+u+"-undo-inside"),p.click(function(e){e.preventDefault(),e.stopPropagation(),a.wpList.del(this),t("#undo-"+s).css({backgroundColor:"#ceb"}).fadeOut(350,function(){t(this).remove(),t("#comment-"+s).css("backgroundColor","").fadeIn(300,function(){t(this).show()})})})),e},h=function(i,m){var d,p,h,v,_,C,y,w,x=!0===m.parsed?{}:m.parsed.responses[0],b=!0===m.parsed?"":x.supplemental.status,k=!0===m.parsed?"":x.supplemental.postId,L=!0===m.parsed?"":x.supplemental,E=t(m.target).parent(),I=t("#"+m.element),R=I.hasClass("approved")&&!I.hasClass("unapproved"),T=I.hasClass("unapproved"),j=I.hasClass("spam"),D=I.hasClass("trash"),O=!1;r(L),l(L),E.is("span.undo")?(E.hasClass("unspam")?(_=-1,"trash"===b?C=1:"1"===b?w=1:"0"===b&&(y=1)):E.hasClass("untrash")&&(C=-1,"spam"===b?_=1:"1"===b?w=1:"0"===b&&(y=1)),O=!0):E.is("span.spam")?(R?w=-1:T?y=-1:D&&(C=-1),_=1):E.is("span.unspam")?(R?y=1:T?w=1:D?E.hasClass("approve")?w=1:E.hasClass("unapprove")&&(y=1):j&&(E.hasClass("approve")?w=1:E.hasClass("unapprove")&&(y=1)),_=-1):E.is("span.trash")?(R?w=-1:T?y=-1:j&&(_=-1),C=1):E.is("span.untrash")?(R?y=1:T?w=1:D&&(E.hasClass("approve")?w=1:E.hasClass("unapprove")&&(y=1)),C=-1):E.is("span.approve:not(.unspam):not(.untrash)")?(w=1,y=-1):E.is("span.unapprove:not(.unspam):not(.untrash)")?(w=-1,y=1):E.is("span.delete")&&(j?_=-1:D&&(C=-1)),y&&(o(y,k),a("span.all-count",y)),w&&(s(w,k),a("span.all-count",w)),_&&a("span.spam-count",_),C&&a("span.trash-count",C),("trash"===m.data.comment_status&&!e(t("span.trash-count"))||"spam"===m.data.comment_status&&!e(t("span.spam-count")))&&t("#delete_all").hide(),c||(p=n.val()?parseInt(n.val(),10):0,t(m.target).parent().is("span.undo")?p++:p--,p<0&&(p=0),"object"==typeof i?x.supplemental.total_items_i18n&&g<x.supplemental.time?((d=x.supplemental.total_items_i18n||"")&&(t(".displaying-num").text(d),t(".total-pages").text(x.supplemental.total_pages_i18n),t(".tablenav-pages").find(".next-page, .last-page").toggleClass("disabled",x.supplemental.total_pages==t(".current-page").val())),u(p,x.supplemental.time,!0)):x.supplemental.time&&u(p,x.supplemental.time,!1):u(p,i,!1)),theExtraList&&0!==theExtraList.length&&0!==theExtraList.children().length&&!O&&(theList.get(0).wpList.add(theExtraList.children(":eq(0):not(.no-items)").remove().clone()),f(),v=function(){t("#the-comment-list tr:visible").length||theList.get(0).wpList.add(theExtraList.find(".no-items").clone())},(h=t(":animated","#the-comment-list")).length?h.promise().done(v):v())},f=function(e){var n=t.query.get(),a=t(".total-pages").text(),o=t('input[name="_per_page"]',"#comments-form").val();n.paged||(n.paged=1),n.paged>a||(e?(theExtraList.empty(),n.number=Math.min(8,o)):(n.number=1,n.offset=Math.min(8,o)-1),n.no_placeholder=!0,n.paged++,!0===n.comment_type&&(n.comment_type=""),n=t.extend(n,{action:"fetch-list",list_args:list_args,_ajax_fetch_list_nonce:t("#_ajax_fetch_list_nonce").val()}),t.ajax({url:ajaxurl,global:!1,dataType:"json",data:n,success:function(t){theExtraList.get(0).wpList.add(t.rows)}}))},window.theExtraList=t("#the-extra-comment-list").wpList({alt:"",delColor:"none",addColor:"none"}),window.theList=t("#the-comment-list").wpList({alt:"",delBefore:p,dimAfter:d,delAfter:h,addColor:"none"}).bind("wpListDelEnd",function(e,n){var a=t(n.target).attr("data-wp-lists"),o=n.element.replace(/[^0-9]+/g,"");-1==a.indexOf(":trash=1")&&-1==a.indexOf(":spam=1")||t("#undo-"+o).fadeIn(300,function(){t(this).show()})})},window.commentReply={cid:"",act:"",originalContent:"",init:function(){var e=t("#replyrow");t(".cancel",e).click(function(){return commentReply.revert()}),t(".save",e).click(function(){return commentReply.send()}),t("input#author-name, input#author-email, input#author-url",e).keypress(function(t){if(13==t.which)return commentReply.send(),t.preventDefault(),!1}),t("#the-comment-list .column-comment > p").dblclick(function(){commentReply.toggle(t(this).parent())}),t("#doaction, #doaction2, #post-query-submit").click(function(){t("#the-comment-list #replyrow").length>0&&commentReply.close()}),this.comments_listing=t('#comments-form > input[name="comment_status"]').val()||""},addEvents:function(e){e.each(function(){t(this).find(".column-comment > p").dblclick(function(){commentReply.toggle(t(this).parent())})})},toggle:function(e){"none"!==t(e).css("display")&&(t("#replyrow").parent().is("#com-reply")||window.confirm(adminCommentsL10n.warnQuickEdit))&&t(e).find("a.vim-q").click()},revert:function(){return!(t("#the-comment-list #replyrow").length<1)&&void t("#replyrow").fadeOut("fast",function(){commentReply.close()})},close:function(){var e=t(),n=t("#replyrow");n.parent().is("#com-reply")||(this.cid&&(e=t("#comment-"+this.cid)),"edit-comment"===this.act&&e.fadeIn(300,function(){e.show().find(".vim-q").attr("aria-expanded","false").focus()}).css("backgroundColor",""),"replyto-comment"===this.act&&e.find(".vim-r").attr("aria-expanded","false").focus(),"undefined"!=typeof QTags&&QTags.closeAllTags("replycontent"),t("#add-new-comment").css("display",""),n.hide(),t("#com-reply").append(n),t("#replycontent").css("height","").val(""),t("#edithead input").val(""),t(".notice-error",n).addClass("hidden").find(".error").empty(),t(".spinner",n).removeClass("is-active"),this.cid="",this.originalContent="")},open:function(e,n,a){var o,s,i,r,l,m=this,d=t("#comment-"+e),p=d.height(),c=0;return!!this.discardCommentChanges()&&(m.close(),m.cid=e,o=t("#replyrow"),s=t("#inline-"+e),i="edit"==(a=a||"replyto")?"edit":"replyto",i=m.act=i+"-comment",m.originalContent=t("textarea.comment",s).val(),c=t("> th:visible, > td:visible",d).length,o.hasClass("inline-edit-row")&&0!==c&&t("td",o).attr("colspan",c),t("#action",o).val(i),t("#comment_post_ID",o).val(n),t("#comment_ID",o).val(e),"edit"==a?(t("#author-name",o).val(t("div.author",s).text()),t("#author-email",o).val(t("div.author-email",s).text()),t("#author-url",o).val(t("div.author-url",s).text()),t("#status",o).val(t("div.comment_status",s).text()),t("#replycontent",o).val(t("textarea.comment",s).val()),t("#edithead, #editlegend, #savebtn",o).show(),t("#replyhead, #replybtn, #addhead, #addbtn",o).hide(),p>120&&(l=p>500?500:p,t("#replycontent",o).css("height",l+"px")),d.after(o).fadeOut("fast",function(){t("#replyrow").fadeIn(300,function(){t(this).show()})})):"add"==a?(t("#addhead, #addbtn",o).show(),t("#replyhead, #replybtn, #edithead, #editlegend, #savebtn",o).hide(),t("#the-comment-list").prepend(o),t("#replyrow").fadeIn(300)):(r=t("#replybtn",o),t("#edithead, #editlegend, #savebtn, #addhead, #addbtn",o).hide(),t("#replyhead, #replybtn",o).show(),d.after(o),d.hasClass("unapproved")?r.text(adminCommentsL10n.replyApprove):r.text(adminCommentsL10n.reply),t("#replyrow").fadeIn(300,function(){t(this).show()})),setTimeout(function(){var e,n,a,o,s;n=(e=t("#replyrow").offset().top)+t("#replyrow").height(),(s=(a=window.pageYOffset||document.documentElement.scrollTop)+(o=document.documentElement.clientHeight||window.innerHeight||0))-20<n?window.scroll(0,n-o+35):e-20<a&&window.scroll(0,e-35),t("#replycontent").focus().keyup(function(t){27==t.which&&commentReply.revert()})},600),!1)},send:function(){var e={},n;t("#replysubmit .error-notice").addClass("hidden"),t("#replysubmit .spinner").addClass("is-active"),t("#replyrow input").not(":button").each(function(){var n=t(this);e[n.attr("name")]=n.val()}),e.content=t("#replycontent").val(),e.id=e.comment_post_ID,e.comments_listing=this.comments_listing,e.p=t('[name="p"]').val(),t("#comment-"+t("#comment_ID").val()).hasClass("unapproved")&&(e.approve_parent=1),t.ajax({type:"POST",url:ajaxurl,data:e,success:function(t){commentReply.show(t)},error:function(t){commentReply.error(t)}})},show:function(e){var n,i,m,d,p,c=this;return"string"==typeof e?(c.error({responseText:e}),!1):(n=wpAjax.parseAjaxResponse(e)).errors?(c.error({responseText:wpAjax.broken}),!1):(c.revert(),m="#comment-"+(n=n.responses[0]).id,"edit-comment"==c.act&&t(m).remove(),n.supplemental.parent_approved&&(p=t("#comment-"+n.supplemental.parent_approved),o(-1,n.supplemental.parent_post_id),"moderated"==this.comments_listing)?void p.animate({backgroundColor:"#CCEEBB"},400,function(){p.fadeOut()}):(n.supplemental.i18n_comments_text&&(r(n.supplemental),l(n.supplemental),s(1,n.supplemental.parent_post_id),a("span.all-count",1)),i=t.trim(n.data),t(i).hide(),t("#replyrow").after(i),m=t(m),c.addEvents(m),d=m.hasClass("unapproved")?"#FFFFE0":m.closest(".widefat, .postbox").css("backgroundColor"),void m.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:d},300,function(){p&&p.length&&p.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:d},300).removeClass("unapproved").addClass("approved").find("div.comment_status").html("1")})))},error:function(e){var n=e.statusText,a=t("#replysubmit .notice-error"),o=a.find(".error");t("#replysubmit .spinner").removeClass("is-active"),e.responseText&&(n=e.responseText.replace(/<.[^<>]*?>/g,"")),n&&(a.removeClass("hidden"),o.html(n))},addcomment:function(e){var n=this;t("#add-new-comment").fadeOut(200,function(){n.open(0,e,"add"),t("table.comments-box").css("display",""),t("#no-comments").remove()})},discardCommentChanges:function(){var e=t("#replyrow");return this.originalContent===t("#replycontent",e).val()||window.confirm(adminCommentsL10n.warnCommentChanges)}},t(document).ready(function(){var e,n,a,o;setCommentsList(),commentReply.init(),t(document).on("click","span.delete a.delete",function(t){t.preventDefault()}),void 0!==t.table_hotkeys&&(e=function(e){return function(){var n,a;n="next"==e?"first":"last",(a=t(".tablenav-pages ."+e+"-page:not(.disabled)")).length&&(window.location=a[0].href.replace(/\&hotkeys_highlight_(first|last)=1/g,"")+"&hotkeys_highlight_"+n+"=1")}},n=function(e,n){window.location=t("span.edit a",n).attr("href")},a=function(){t("#cb-select-all-1").data("wp-toggle",1).trigger("click").removeData("wp-toggle")},o=function(e){return function(){var n=t('select[name="action"]');t('option[value="'+e+'"]',n).prop("selected",!0),t("#doaction").click()}},t.table_hotkeys(t("table.widefat"),["a","u","s","d","r","q","z",["e",n],["shift+x",a],["shift+a",o("approve")],["shift+s",o("spam")],["shift+d",o("delete")],["shift+t",o("trash")],["shift+z",o("untrash")],["shift+u",o("unapprove")]],{highlight_first:adminCommentsL10n.hotkeys_highlight_first,highlight_last:adminCommentsL10n.hotkeys_highlight_last,prev_page_link_cb:e("prev"),next_page_link_cb:e("next"),hotkeys_opts:{disableInInput:!0,type:"keypress",noDisable:'.check-column input[type="checkbox"]'},cycle_expr:"#the-comment-list tr",start_row_index:0})),t("#the-comment-list").on("click",".comment-inline",function(){var e=t(this),n="replyto";void 0!==e.data("action")&&(n=e.data("action")),t(this).attr("aria-expanded","true"),commentReply.open(e.data("commentId"),e.data("postId"),n)})})}(jQuery);