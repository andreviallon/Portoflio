!function(n){n(document).ready(function(){var o,c=n("#custom-background-image");n("#background-color").wpColorPicker({change:function(n,o){c.css("background-color",o.color.toString())},clear:function(){c.css("background-color","")}}),n('select[name="background-size"]').change(function(){c.css("background-size",n(this).val())}),n('input[name="background-position"]').change(function(){c.css("background-position",n(this).val())}),n('input[name="background-repeat"]').change(function(){c.css("background-repeat",n(this).is(":checked")?"repeat":"no-repeat")}),n('input[name="background-attachment"]').change(function(){c.css("background-attachment",n(this).is(":checked")?"scroll":"fixed")}),n("#choose-from-library-link").click(function(c){var e=n(this);return c.preventDefault(),o?void o.open():((o=wp.media.frames.customBackground=wp.media({title:e.data("choose"),library:{type:"image"},button:{text:e.data("update"),close:!1}})).on("select",function(){var c=o.state().get("selection").first();n.post(ajaxurl,{action:"set-background-image",attachment_id:c.id,size:"full"}).done(function(){window.location.reload()})}),void o.open())})})}(jQuery);