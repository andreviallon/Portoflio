window.wp=window.wp||{},wp.svgPainter=function($,n,t,a){"use strict";var e,i,o,r={},s=[];return $(t).ready(function(){t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")&&($(t.body).removeClass("no-svg").addClass("svg"),wp.svgPainter.init())}),i=function(){function n(){for(;u<256;)i=String.fromCharCode(u),r+=i,c[u]=u,s[u]=o.indexOf(i),++u}function t(n,t,a,e,o,r){var s,c,u=0,l=0,f="",m=0;for(n=String(n),c=n.length;l<c;){for(i=n.charCodeAt(l),i=i<256?a[i]:-1,u=(u<<o)+i,m+=o;m>=r;)m-=r,s=u>>m,f+=e.charAt(s),u^=s<<m;++l}return!t&&m>0&&(f+=e.charAt(u<<r-m)),f}function a(a){return i||n(),(a=t(a,!1,c,o,8,6))+"====".slice(a.length%4||4)}function e(a){var e;i||n(),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),a=String(a).split("="),e=a.length;do{--e,a[e]=t(a[e],!0,s,r,6,8)}while(e>0);return a=a.join("")}var i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",s=[256],c=[256],u=0;return{atob:e,btoa:a}}(),{init:function(){o=this,e=$("#adminmenu .wp-menu-image, #wpadminbar .ab-item"),this.setColors(),this.findElements(),this.paint()},setColors:function(t){void 0===t&&void 0!==n._wpColorScheme&&(t=n._wpColorScheme),t&&t.icons&&t.icons.base&&t.icons.current&&t.icons.focus&&(r=t.icons)},findElements:function(){e.each(function(){var n=$(this),t=n.css("background-image");t&&-1!=t.indexOf("data:image/svg+xml;base64")&&s.push(n)})},paint:function(){$.each(s,function(t,a){var e=a.parent().parent();e.hasClass("current")||e.hasClass("wp-has-current-submenu")?o.paintElement(a,"current"):(o.paintElement(a,"base"),e.hover(function(){o.paintElement(a,"focus")},function(){n.setTimeout(function(){o.paintElement(a,"base")},100)}))})},paintElement:function(t,a){var e,o,s;if(a&&r.hasOwnProperty(a)&&(s=r[a],s.match(/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/i)&&"none"!==(e=t.data("wp-ui-svg-"+s)))){if(!e){if(!(o=t.css("background-image").match(/.+data:image\/svg\+xml;base64,([A-Za-z0-9\+\/\=]+)/))||!o[1])return void t.data("wp-ui-svg-"+s,"none");try{e="atob"in n?n.atob(o[1]):i.atob(o[1])}catch(n){}if(!e)return void t.data("wp-ui-svg-"+s,"none");e=e.replace(/fill="(.+?)"/g,'fill="'+s+'"'),e=e.replace(/style="(.+?)"/g,'style="fill:'+s+'"'),e=e.replace(/fill:.*?;/g,"fill: "+s+";"),e="btoa"in n?n.btoa(e):i.btoa(e),t.data("wp-ui-svg-"+s,e)}t.attr("style",'background-image: url("data:image/svg+xml;base64,'+e+'") !important;')}}}}(jQuery,window,document);