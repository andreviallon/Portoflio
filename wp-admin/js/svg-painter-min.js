window.wp=window.wp||{},wp.svgPainter=function(n,t,a,e){"use strict";var i,o,r,s={},c=[];return n(a).ready(function(){a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")&&(n(a.body).removeClass("no-svg").addClass("svg"),wp.svgPainter.init())}),o=function(){function n(){for(;u<256;)i=String.fromCharCode(u),r+=i,c[u]=u,s[u]=o.indexOf(i),++u}function t(n,t,a,e,o,r){var s,c,u=0,l=0,f="",m=0;for(c=(n=String(n)).length;l<c;){for(u=(u<<o)+(i=(i=n.charCodeAt(l))<256?a[i]:-1),m+=o;m>=r;)s=u>>(m-=r),f+=e.charAt(s),u^=s<<m;++l}return!t&&m>0&&(f+=e.charAt(u<<r-m)),f}function a(a){return i||n(),(a=t(a,!1,c,o,8,6))+"====".slice(a.length%4||4)}function e(a){var e;i||n(),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),e=(a=String(a).split("=")).length;do{a[--e]=t(a[e],!0,s,r,6,8)}while(e>0);return a=a.join("")}var i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",s=[256],c=[256],u=0;return{atob:e,btoa:a}}(),{init:function(){r=this,i=n("#adminmenu .wp-menu-image, #wpadminbar .ab-item"),this.setColors(),this.findElements(),this.paint()},setColors:function(n){void 0===n&&void 0!==t._wpColorScheme&&(n=t._wpColorScheme),n&&n.icons&&n.icons.base&&n.icons.current&&n.icons.focus&&(s=n.icons)},findElements:function(){i.each(function(){var t=n(this),a=t.css("background-image");a&&-1!=a.indexOf("data:image/svg+xml;base64")&&c.push(t)})},paint:function(){n.each(c,function(n,a){var e=a.parent().parent();e.hasClass("current")||e.hasClass("wp-has-current-submenu")?r.paintElement(a,"current"):(r.paintElement(a,"base"),e.hover(function(){r.paintElement(a,"focus")},function(){t.setTimeout(function(){r.paintElement(a,"base")},100)}))})},paintElement:function(n,a){var e,i,r;if(a&&s.hasOwnProperty(a)&&(r=s[a]).match(/^(#[0-9a-f]{3}|#[0-9a-f]{6})$/i)&&"none"!==(e=n.data("wp-ui-svg-"+r))){if(!e){if(!(i=n.css("background-image").match(/.+data:image\/svg\+xml;base64,([A-Za-z0-9\+\/\=]+)/))||!i[1])return void n.data("wp-ui-svg-"+r,"none");try{e="atob"in t?t.atob(i[1]):o.atob(i[1])}catch(n){}if(!e)return void n.data("wp-ui-svg-"+r,"none");e=(e=(e=e.replace(/fill="(.+?)"/g,'fill="'+r+'"')).replace(/style="(.+?)"/g,'style="fill:'+r+'"')).replace(/fill:.*?;/g,"fill: "+r+";"),e="btoa"in t?t.btoa(e):o.btoa(e),n.data("wp-ui-svg-"+r,e)}n.attr("style",'background-image: url("data:image/svg+xml;base64,'+e+'") !important;')}}}}(jQuery,window,document);