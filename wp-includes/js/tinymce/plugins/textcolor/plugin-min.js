!function(){var t={},o=function(t){for(var o=r(t),e=t.split("."),n=Function("return this;")(),l=0;l<e.length-1;++l)void 0===n[e[l]]&&(n[e[l]]={}),n=n[e[l]];n[e[e.length-1]]=o},e=function(o){for(var e=t[o],n=e.deps,l=e.defn,i=n.length,c=new Array(i),a=0;a<i;++a)c[a]=r(n[a]);var s=l.apply(null,c);if(void 0===s)throw"module ["+o+"] returned undefined";e.instance=s},n=function(o,e,n){if("string"!=typeof o)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+o;if(void 0===n)throw"no definition function for "+o;t[o]={deps:e,defn:n,instance:void 0}},r=function(o){var n=t[o];if(void 0===n)throw"module ["+o+"] was undefined";return void 0===n.instance&&e(o),n.instance},l=function(t,o){for(var e=t.length,n=new Array(e),l=0;l<e;++l)n.push(r(t[l]));o.apply(null,o)};({}).bolt={module:{api:{define:n,require:l,demand:r}}};var i=n,c=l,a=r;(function(t,o){i(t,[],function(){return o})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.dom.DOMUtils")}),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.PluginManager")}),i("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.I18n")}),i("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.Tools")}),i("tinymce.plugins.textcolor.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.PluginManager","tinymce.core.util.I18n","tinymce.core.util.Tools"],function(t,o,e,n){var r=e.translate;return o.add("textcolor",function(o){function e(t){var e;return o.dom.getParents(o.selection.getStart(),function(o){var n;(n=o.style["forecolor"==t?"color":"background-color"])&&(e=n)}),e}function l(t){var e,n=[],r;for(r=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],r=o.settings.textcolor_map||r,r=o.settings[t+"_map"]||r,e=0;e<r.length;e+=2)n.push({text:r[e+1],color:"#"+r[e]});return n}function i(){function t(t,o){var e="transparent"==t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+m+"-"+b+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+r(o)+'">'+(e?"&#215;":"")+"</div></td>"}var e=this,n,i,c,a,s,u,f,m=e._id,b=0,F;for(F=e.settings.origin,n=l(F),n.push({text:r("No color"),color:"transparent"}),c='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',a=n.length-1,u=0;u<g[F];u++){for(c+="<tr>",s=0;s<d[F];s++)f=u*d[F]+s,f>a?c+="<td></td>":(i=n[f],c+=t(i.color,i.text));c+="</tr>"}if(o.settings.color_picker_callback){for(c+='<tr><td colspan="'+d[F]+'" class="mce-custom-color-btn"><div id="'+m+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+m+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+r("Custom...")+"</button></div></td></tr>",c+="<tr>",s=0;s<d[F];s++)c+=t("","Custom color");c+="</tr>"}return c+="</tbody></table>"}function c(t,e){o.undoManager.transact(function(){o.focus(),o.formatter.apply(t,{value:e}),o.nodeChanged()})}function a(t){o.undoManager.transact(function(){o.focus(),o.formatter.remove(t,{value:null},null,!0),o.nodeChanged()})}function s(r){function l(t){u.hidePanel(),u.color(t),c(u.settings.format,t)}function i(){u.hidePanel(),u.resetColor(),a(u.settings.format)}function s(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)}var u=this.parent(),g,f;f=u.settings.origin,t.DOM.getParent(r.target,".mce-custom-color-btn")&&(u.hidePanel(),o.settings.color_picker_callback.call(o,function(t){var o=u.panel.getEl().getElementsByTagName("table")[0],e,r,i;for(e=n.map(o.rows[o.rows.length-1].childNodes,function(t){return t.firstChild}),i=0;i<e.length&&(r=e[i],r.getAttribute("data-mce-color"));i++);if(i==d[f])for(i=0;i<d[f]-1;i++)s(e[i],e[i+1].getAttribute("data-mce-color"));s(r,t),l(t)},e(u.settings.format))),g=r.target.getAttribute("data-mce-color"),g?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),r.target.setAttribute("aria-selected",!0),this.lastId=r.target.id,"transparent"==g?i():l(g)):null!==g&&u.hidePanel()}function u(){var t=this;t._color?c(t.settings.format,t._color):a(t.settings.format)}var d,g;g={forecolor:o.settings.forecolor_rows||o.settings.textcolor_rows||5,backcolor:o.settings.backcolor_rows||o.settings.textcolor_rows||5},d={forecolor:o.settings.forecolor_cols||o.settings.textcolor_cols||8,backcolor:o.settings.backcolor_cols||o.settings.textcolor_cols||8},o.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:i,onclick:s},onclick:u}),o.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:i,onclick:s},onclick:u})}),function(){}}),r("tinymce.plugins.textcolor.Plugin")()}();