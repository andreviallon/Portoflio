!function(e,t,o){e.PluginManager.add("wpemoji",function(n){function i(e){e.className="emoji",e.setAttribute("data-mce-resize","false"),e.setAttribute("data-mce-placeholder","1"),e.setAttribute("data-wp-emoji","1")}function a(e){var o={"data-mce-resize":"false","data-mce-placeholder":"1","data-wp-emoji":"1"};t.emoji.parse(e,{imgAttr:o})}function w(e){var t,o;e&&window.twemoji&&window.twemoji.test(e.textContent||e.innerText)&&(c.webkit&&(o=(t=n.selection).getBookmark()),a(e),c.webkit&&t.moveToBookmark(o))}var d,c=e.Env,m=window.navigator.userAgent,r=m.indexOf("Windows")>-1,s=!!((u=m.match(/Windows NT 6\.(\d)/))&&u[1]>1),u;t&&t.emoji&&!o.supports.everything&&(s?n.on("keyup",function(e){231===e.keyCode&&w(n.selection.getNode())}):r||(n.on("keydown keyup",function(e){d="keydown"===e.type}),n.on("input",function(){d||w(n.selection.getNode())})),n.on("setcontent",function(e){var t=n.selection,o=t.getNode();window.twemoji&&window.twemoji.test(o.textContent||o.innerText)&&(a(o),c.ie&&c.ie<9&&e.load&&o&&"BODY"===o.nodeName&&t.collapse(!0))}),n.on("PastePostProcess",function(t){window.twemoji&&e.each(n.dom.$("img.emoji",t.node),function(e){e.alt&&window.twemoji.test(e.alt)&&i(e)})}),n.on("postprocess",function(e){e.content&&(e.content=e.content.replace(/<img[^>]+data-wp-emoji="[^>]+>/g,function(e){var t=e.match(/alt="([^"]+)"/);return t&&t[1]?t[1]:e}))}),n.on("resolvename",function(e){"IMG"===e.target.nodeName&&n.dom.getAttrib(e.target,"data-wp-emoji")&&e.preventDefault()}))})}(window.tinymce,window.wp,window._wpemojiSettings);