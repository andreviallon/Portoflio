!function(){var e=function(){"use strict";function e(){}var n=function(e){var t=e,i=function(){return t},r,o=function(){return n(i())};return{get:i,set:function(e){t=e},clone:o}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i,r=function(e){return{isFullscreen:function(){return null!==e.get()}}},o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l,c=function(e,n){e.fire("FullscreenStateChanged",{state:n})},u=o.DOM,s=function(){var e,n,t=window,i,r=document.body;return r.offsetWidth&&(e=r.offsetWidth,n=r.offsetHeight),t.innerWidth&&t.innerHeight&&(e=t.innerWidth,n=t.innerHeight),{w:e,h:n}},d=function(){var e=u.getViewPort();return{x:e.x,y:e.y}},a=function(e){window.scrollTo(e.x,e.y)},f,h=function(e,n){var t=document.body,i=document.documentElement,r,o,l,f,h=n.get(),m=function(){u.setStyle(l,"height",s().h-(o.clientHeight-l.clientHeight))},g=function(){u.unbind(window,"resize",m)};if(r=(o=e.getContainer()).style,f=(l=e.getContentAreaContainer().firstChild).style,h)f.width=h.iframeWidth,f.height=h.iframeHeight,h.containerWidth&&(r.width=h.containerWidth),h.containerHeight&&(r.height=h.containerHeight),u.removeClass(t,"mce-fullscreen"),u.removeClass(i,"mce-fullscreen"),u.removeClass(o,"mce-fullscreen"),a(h.scrollPos),u.unbind(window,"resize",h.resizeHandler),e.off("remove",h.removeHandler),n.set(null),c(e,!1);else{var v={scrollPos:d(),containerWidth:r.width,containerHeight:r.height,iframeWidth:f.width,iframeHeight:f.height,resizeHandler:m,removeHandler:g};f.width=f.height="100%",r.width=r.height="",u.addClass(t,"mce-fullscreen"),u.addClass(i,"mce-fullscreen"),u.addClass(o,"mce-fullscreen"),u.bind(window,"resize",m),e.on("remove",g),m(),n.set(v),c(e,!0)}},m,g=function(e,n){e.addCommand("mceFullScreen",function(){h(e,n)})},v=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}},w,C=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:v(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:v(e)})};return t.add("fullscreen",function(e){var t=n(null);return e.settings.inline?r(t):(g(e,t),C(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen"),r(t))}),e}()}();